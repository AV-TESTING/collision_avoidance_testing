<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Collision Avoidance Testing on Complete Maps for Autonomous Driving Systems</title>

    <link rel="stylesheet" href="libs/bootstrap-5.0.0-beta2-dist/css/bootstrap.css">

    <link rel="stylesheet" href="static/css/main.css">
</head>
<body>
<div class="container">
    <div class="container">
        <div class="jumbotron jumbotron-fluid text-center image-title">
            <div class="title-background"></div>
            <div class="title-background-overlay"></div>
            <div class="container title-content">
                <h1 class="display-5">Collision Avoidance Testing on Complete Maps for Autonomous Driving Systems</h1>
            </div>
        </div>
    </div>

    <section class="container">
        <h2 class="display-6 my-3">ISSUES DISCOVERED</h2>
        <div class="media">
            <video id="no-prediction-video" width="50%" controls class="align-self-start mr-3">
                <source src="static/media/issues_videos/No_motion_prediction_of_an_NPC_vehicle_under_low_speed.mp4"
                        type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="media-body">
                <h5 class="mt-0">No motion prediction of an NPC vehicle under low speed</h5>
                <p>
                    In the video, Apollo is expected to drive straight across the junction. However, it
                    seems to be too confident about bypassing the obstacle coming from right side, which eventually
                    resulted in collision.
                </p>
                <p>
                    Apollo's prediction module returns no predicted trajectory for "still" vehicles of speed less
                    than 0.99 m/s (default configuration). Since the speed of the vehicle in this scenario was 0.5
                    m/s, no predicted trajectory was generated.
                </p>
                <p>
                    As a result, the planning module did not slow down since its planned trajectory was not blocked
                    by any obstacle or their predicted traveling paths, which resulted in collision.
                </p>
                <p>
                    This scenario is not at all challenging for human drivers, as there is sufficient space and time
                    for braking to give way to the slowly moving obstacle vehicle.
                </p>
            </div>
        </div>
        <div class="media">
            <video id="wrong-prediction-video" width="50%" controls class="align-self-start mr-3">
                <source src="static/media/issues_videos/Wrong_motion_prediction_of_an_NPC_vehicle..mp4"
                        type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="media-body">
                <h5 class="mt-0">Wrong motion prediction of an NPC vehicle</h5>
                <p>
                    In this video, Apollo is expected to give way or by pass the slow vehicle cutting in ahead.
                </p>
                <p>
                    Apollo's prediction module produced a wrong predicted trajectory for the front obstacle vehicle,
                    letting Apollo to believe that the vehicle was maintaining its own lane instead of cutting in to
                    Apollo's lane.
                </p>
                <p>
                    As a result, Apollo's planning module did not brake to give way or bypass from left side, which
                    eventually led to collision.
                </p>
                <p>
                    It is apparent that human drivers can easily notice the cutting-in vehicle ahead and would brake to
                    give way.
                </p>
            </div>
        </div>
        <div class="media">
            <video id="wrong-switch-video" width="50%" controls class="align-self-start mr-3">
                <source src="static/media/issues_videos/Decision_oscillation_during_lane_changing.mp4"
                        type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="media-body">
                <h5 class="mt-0">Decision oscillation during lane changing</h5>
                <p>
                    In the video, Apollo first decided to overtake the slow moving vehicle ahead, but the overtaking
                    action is terminated halfway and Apollo started to follow the vehicle on top of lane
                    boundaries.
                </p>
                <p>
                    In Apollo 5.0, planning module has "follow" or "stop" strategies for moving obstacles ahead in
                    the same lane, and "side-pass" strategy for static obstacles. Vehicles of speed less or equal to
                    0.5 m/s are treated as static by both prediction module and planning module.
                </p>
                <p>
                    In this case, the obstacle vehicle speed was set to be 0.5 m/s, at the decision boundary. Due to
                    noise, the actual speed might fluctuate around 0.5m/s, causing the planning module to switch
                    between strategies for moving and static obstacle.
                </p>
                <p>
                    This is a only common overtake scenario for a human driver.
                </p>
                <!--                    <p><b>Video description</b></p>-->
                <!--                    <p>The ego vehicle first yields to NPC vehicle 4 and stops completely (<i class="ts"-->
                <!--                                                                                              data-target="wrong-switch-video"-->
                <!--                                                                                              data-value="17.3">17s</i>).-->
                <!--                        Then, the ego vehicle restarts its motion to overtake quickly,-->
                <!--                        even though the NPC vehicle has not pass through the collision region yet (<i class="ts"-->
                <!--                                                                                                      data-target="wrong-switch-video"-->
                <!--                                                                                                      data-value="19">19s</i>).-->
                <!--                        Hence, a collision occurs (<i class="ts" data-target="wrong-switch-video"-->
                <!--                                                      data-value="21.5">21s</i>).-->
                <!--                        In this case, since the ego vehicle has decided to yield to the NPC vehicle,-->
                <!--                        it should stop and wait until the NPC vehicle passes the collision region.</p>-->
            </div>
        </div>
        <div class="media">
            <video id="soft-braking-video" width="50%" controls class="align-self-start mr-3">
                <source src="static/media/issues_videos/Deadlock_in_a_junction..mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="media-body">
                <h5 class="mt-0">Deadlock in a junction</h5>
                <p>
                    In the video, Apollo is expected to turn left in the junction, and there is an obstacle driving
                    forward through and meet Apollo inside the junction. The obstacle has basic collision avoidance
                    which stops if obstacle in front is detected. Both vehicle stop in the junction and never move
                    again.
                </p>
                <p>
                    The case all started with incorrect prediction result of the obstacle vehicle. The obstacle
                    vehicle was predicted to turn left, which would not intersect Apollo's path. As a result, apollo
                    continued in its left-turning lane.
                </p>
                <p>
                    When Apollo's prediction module realized that the obstacle vehicle was driving forward, instead
                    of turning left, it started to brake but it was already too late. Consequently, both vehicle
                    came to a position where they blocked each other.
                </p>
                <p>
                    Apollo's planning module does not support "side-pass" inside junctions, thus when its front path
                    is blocked, it cannot get out of this deadlock situation by itself. The obstacle vehicle
                    implemented by Simulator does not support "side-pass" either.
                </p>
                <p>
                    A human driver would notice the incoming vehicle and brake early to give way. Even after it ended up
                    in the deadlock situation, human drivers would improvise and negotiate a way out of the situation
                    quickly, as it is unsafe to stop inside the junction.
                </p>
            </div>
        </div>
        <div class="media">
            <video id="coordination-video" width="50%" controls class="align-self-start mr-3">
                <source src="static/media/issues_videos/Stop_at_a_crosswalk_to_give_way_to_a_pedestrian.mp4"
                        type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="media-body">
                <h5 class="mt-0">Stop at a crosswalk to give way to a pedestrian</h5>
                <p>
                    In the video, the traffic light was green when Apollo was entering the junction. However, there is a
                    pedestrian still crossing through on the crosswalk. This usually happens when the pedestrian is
                    elderly or disabled. Apollo should brake early and come to a complete stop before stop line (white
                    line) to give way even though it was green light.
                </p>
                <p>
                    Note that pedestrians of speed less than 0.2 m/s (default configuration) are considered
                    stationary by the prediction module, and no predicted trajectory is generated for them.
                    In this case, the pedestrian was crossing at 0.6 m/s, thus there was a predicted trajectory
                    associated with the pedestrian. However, the prediction module only predicts 8 seconds i.e. 4.8
                    meters ahead of the pedestrian.
                </p>
                <p>
                    The planning module won't brake when its path is clear. i.e. not blocked by other obstacle or
                    not intersected by other obstacle's predicted trajectory.
                </p>
                <p>
                    As a result, Apollo only started to brake when the pedestrian was 4.8 meters away from its
                    planned trajectory and when it came to full stop, it happened to stopped on top of the
                    crosswalk. If the prediction duration is longer than 8 seconds, Apollo would be able to brake
                    early and stop before stop line without blocking the crosswalk.
                </p>
                <p>
                    Human drivers always look out for pedestrian crossing entering or leaving junctions. When there
                    are pedestrians crossing, they are required to give way to pedestrians even though it might be
                    green light.
                </p>
            </div>
        </div>
    </section>

</div>

<script type="application/javascript" src="libs/bootstrap-5.0.0-beta2-dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>


